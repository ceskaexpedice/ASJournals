<div class="app-fxLayout app-row app-wrap app-layout-wrap-16" *ngIf="mag">
  <div class="app-fxFlex-3x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.context' | translate }}</mat-label>
      <input matInput id="ctx" name="ctx" type="text" [(ngModel)]="mag.ctx" required><span class="validity"></span>
    </mat-form-field>
  </div>
  <div class="app-fxFlex-3x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.url_kramerius' | translate }}</mat-label>
      <input matInput id="k5url" name="k5url" type="text" [(ngModel)]="mag.k5url">
    </mat-form-field>
  </div>
  <div class="app-fxFlex-3x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.root_uuid_titulu' | translate }}</mat-label>
      <input matInput id="journal_uuid" name="journal_uuid" type="text" [(ngModel)]="mag.journal">
    </mat-form-field>
  </div>

  <div class="app-fxFlex-3x">
    <mat-form-field class="app-w-100" appearance="outline">
      <!-- <mat-icon matInput-prefix [style.color]="'#'+mag.color" >application</mat-icon> -->
      <mat-label>{{ 'magazines.barva' | translate }}</mat-label>
      <input matInput id="color" name="color" type="text" [(ngModel)]="mag.color">
    </mat-form-field>
  </div>
  <div class="app-fxFlex-3x">
    <mat-form-field  class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.licence' | translate }}</mat-label>
      <input matInput id="licence" name="licence" type="text" [(ngModel)]="mag.licence">
    </mat-form-field>
  </div>
  <div class="app-fxFlex-3x">
    <mat-checkbox id="showTitleLabel" name="showTitleLabel" [(ngModel)]="mag.showTitleLabel">{{ 'magazines.ukazat_slovo_casopis' | translate }}</mat-checkbox>
    <mat-checkbox id="showOldYears" name="showOldYears" [(ngModel)]="mag.showOldYears">{{ 'magazines.ukazat_starsi_rocniky' | translate }}</mat-checkbox><br/>
    <mat-checkbox id="kVersion" name="kVersion" [(ngModel)]="mag.isK7">{{ 'magazines.isK7' | translate }}&#160;&#160;</mat-checkbox><br/>
    <mat-checkbox id="checkUpdates" name="checkUpdates" [(ngModel)]="mag.checkUpdates">{{ 'magazines.checkUpdates' | translate }}&#160;&#160;</mat-checkbox>
  </div>

  <!-- <div class="app-fxFlex-3x">
    <mat-form-field  class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.extLinkUrl' | translate }}</mat-label>
      <input matInput id="extLinkUrl" name="extLinkUrl" type="text" [(ngModel)]="mag.extLinkUrl">
    </mat-form-field>
  </div>
  <div class="app-fxFlex-3x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.extLinkText' | translate }}</mat-label>
      <input matInput id="extLinkText" name="extLinkText" type="text" [(ngModel)]="mag.extLinkText">
    </mat-form-field>
  </div> -->

  <div class="app-fxFlex-25">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.jazyky' | translate }}</mat-label>
      <input matInput type="text" name="newLanguage" id="newLanguage" [(ngModel)]="newLanguage" />
      <button matSuffix mat-icon-button (click)="addLanguage()" [matTooltip]="'magazines.pridat_jazyk' | translate">
        <mat-icon>add</mat-icon>
      </button>
    </mat-form-field>
  </div>
  <div class="app-fxFlex app-fxFlex-75 app-center-v">
    <span *ngFor="let k of mag.languages; let idx = index; let last = last;" class="app-keyword">
      <label class="app-label">{{ k }}</label><a (click)="removeLanguage(idx)" [matTooltip]="'magazines.smazat_jazyk' | translate"><mat-icon>clear</mat-icon></a><span class="app-pipe app-in-element" *ngIf="!last"></span>
    </span>
  </div>


  <div class="app-fxFlex-1x">
    <mat-checkbox id="showExtLink" name="showExtLink" [(ngModel)]="mag.showExtLink">{{ 'magazines.showExtLink' | translate }}</mat-checkbox>
  </div>

  <ng-container *ngFor="let lang of mag.languages">
    <div class="app-fxFlex-2x">
      <mat-form-field class="app-w-100" appearance="outline">
        <mat-label>{{ 'magazines.extLinkUrl' | translate }} {{ 'magazines.lang.' + lang | translate }}</mat-label>
        <input matInput [id]="'extLinkUrl' + lang" type="text" [(ngModel)]="mag['extLinkUrl_'+lang]">
      </mat-form-field>
    </div>
    <div class="app-fxFlex-2x">
      <mat-form-field class="app-w-100" appearance="outline">
        <mat-label>{{ 'magazines.extLinkText' | translate }} {{ 'magazines.lang.' + lang | translate }}</mat-label>
        <input matInput [id]="'extLinkText' + lang" type="text" [(ngModel)]="mag['extLinkText_'+lang]">
      </mat-form-field>
    </div>
  </ng-container>

  <ng-container *ngFor="let lang of mag.languages">
    <div class="app-fxFlex-2x">
      <mat-form-field class="app-w-100" appearance="outline">
        <mat-label>{{ 'magazines.titulek' | translate }} {{ 'magazines.lang.' + lang | translate }}</mat-label>
        <input matInput [id]="'title' + lang" type="text" [(ngModel)]="mag['title_'+lang]">
      </mat-form-field>
    </div>
    <div class="app-fxFlex-2x">
      <mat-form-field class="app-w-100" appearance="outline">
        <mat-label>{{ 'magazines.podtitulek' | translate }} {{ 'magazines.lang.' + lang | translate }}</mat-label>
        <input matInput [id]="'subtitle' + lang" type="text" [(ngModel)]="mag['subtitle_'+lang]">
      </mat-form-field>
    </div>
  </ng-container>

  <div class="app-fxFlex-3x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.obrazek' | translate }}</mat-label>
      <input matInput type="text" [(ngModel)]="mag.img" id="img"  name="img"  />
    </mat-form-field>
  </div>
  <div class="app-fxFlex-3x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'Issn' | translate }}</mat-label>
      <input matInput type="text" [(ngModel)]="mag.issn" id="issn"  name="issn"  />
    </mat-form-field>
  </div>
  <div class="app-fxFlex-3x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.vydavatel' | translate }}</mat-label>
      <mat-select (selectionChange)="setVydavatel($event.value)" name="vydavatel" [(ngModel)]="vydavatel">
        <mat-option *ngFor="let ed of editors" [value]="ed">
          {{ed.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="app-fxFlex-2x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.pristup' | translate }}</mat-label>
      <input matInput type="text" [(ngModel)]="mag.pristup" id="pristup"  name="pristup"  />
    </mat-form-field>
  </div>
  <div class="app-fxFlex-2x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.kontakt' | translate }}</mat-label>
      <input matInput type="text" [(ngModel)]="mag.kontakt" id="kontakt"  name="kontakt"  />
    </mat-form-field>
  </div>
  
  
  <ng-container *ngFor="let lang of mag.languages">
    <div class="app-fxFlex-30">
      <mat-form-field class="app-w-100" appearance="outline">
        <mat-label>{{ 'magazines.oblast' | translate }}  {{ 'magazines.lang.' + lang | translate }}</mat-label>
        <input matInput type="text" [name]="'newOblast' + lang" [id]="'newOblast' + lang" [(ngModel)]="newOblast[lang]" />
        <button matSuffix mat-icon-button (click)="addOblast(lang)" [matTooltip]="'magazines.pridat_oblast' | translate">
          <mat-icon>add</mat-icon>
        </button>
      </mat-form-field>
    </div>
    <div class="app-fxFlex app-fxFlex-70 app-center-v">
      <span *ngFor="let k of mag['oblast_'+lang]; let idx = index; let last = last;" class="app-keyword">
        <label class="app-label">{{ k }}</label><a (click)="removeOblast(idx, lang)" [matTooltip]="'magazines.smazat_oblast' | translate"><mat-icon>clear</mat-icon></a><span class="app-pipe app-in-element" *ngIf="!last"></span>
      </span>
    </div>
  </ng-container>


  <ng-container *ngFor="let lang of mag.languages">
    <div class="app-fxFlex-30">
      <mat-form-field class="app-w-100" appearance="outline">
        <mat-label>{{ 'magazines.klicove_slovo' | translate }}  {{ 'magazines.lang.' + lang | translate }}</mat-label>
        <input matInput type="text" [name]="'newKeyword' + lang" [id]="'newKeyword' + lang" [(ngModel)]="newKeyword[lang]" />
        <button matSuffix mat-icon-button (click)="addKeyword(lang)" [matTooltip]="'magazines.pridat_klicove_slovo' | translate">
          <mat-icon>add</mat-icon>
        </button>
      </mat-form-field>
    </div>
    <div class="app-fxFlex app-fxFlex-70 app-center-v">
      <span *ngFor="let k of mag['keyword_'+lang]; let idx = index; let last = last;" class="app-keyword">
        <label class="app-label">{{ k }}</label><a (click)="removeKeyword(idx, lang)" [matTooltip]="'magazines.smazat_klicove_slovo' | translate"><mat-icon>clear</mat-icon></a><span class="app-pipe app-in-element" *ngIf="!last"></span>
      </span>
    </div>
  </ng-container>

  <!-- 
  <div class="app-fxFlex-25">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.klicove_slovo' | translate }}</mat-label>
      <input matInput type="text" name="newKeyword" id="newKeyword" [(ngModel)]="newKeyword" />
      <button matSuffix mat-icon-button [matTooltip]="'magazines.pridat_klicove_slovo' | translate">
        <mat-icon>add</mat-icon>
      </button>
    </mat-form-field>
  </div>
  -->

  <div class="app-fxFlex app-fxFlex-75 app-center-v">
    <span *ngFor="let k of mag.keyword; let idx = index; let last = last;" class="app-keyword">
      <label class="app-label">{{ k }}</label><a  [matTooltip]="'magazines.smazat_klicove_slovo' | translate"><mat-icon>clear</mat-icon></a><span class="app-pipe app-in-element" *ngIf="!last"></span>
    </span>
  </div>

  <ng-container *ngFor="let lang of mag.languages">
    <div class="app-fxFlex-1x">
      <mat-form-field class="app-w-100" appearance="outline">
        <mat-label>{{ 'magazines.popis' | translate }} {{ 'magazines.lang.' + lang | translate }}</mat-label>
        <textarea matInput [(ngModel)]="mag['desc_' + lang]" [id]="'desc' + lang" [name]="'desc' + lang"></textarea>
      </mat-form-field>
    </div>
  </ng-container>

  <!-- <div class="app-fxFlex-1x">
    <mat-form-field class="app-w-100" appearance="outline">
      <mat-label>{{ 'magazines.popis_angl' | translate }}</mat-label>
      <textarea matInput [(ngModel)]="mag.desc_en" id="desc_en" name="desc_en"></textarea>
    </mat-form-field>
  </div> -->
</div>